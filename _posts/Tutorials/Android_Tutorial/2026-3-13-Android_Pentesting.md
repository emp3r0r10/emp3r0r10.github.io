---
title: "Android Vulnerabilities"
classes: wide
header:
  teaser: /assets/images/tutorials/Android_Tutorial/Android_Pentest/Android_Pentest.jpeg
ribbon: green
description: "Android Pentesting is a process of testing security measures of android applications and devices to uncover vulnerabilities. It includes static analysis, dynamic analysis and reverse engineering."
categories:
  - Tutorials
toc: false
---

<img src="/assets/images/tutorials/Android_Tutorial/Android_Pentest/Android_Pentest.jpeg" alt="Android_Architecture" style="zoom: 100%;" />

Android Pentesting is a process of testing security measures of android applications and devices to uncover vulnerabilities. It includes static analysis, dynamic analysis and reverse engineering.

## Why is Android Penetration Testing Important?

## Static Analysis

Static Analysis is reviewing source code for bugs without interacting with the application. It involves extracting and analyzing code, manifest files, and resources for patterns, vulnerabilities, or insecure configurations. It can be done using tools that decompile the app's APK or inspect its bytecode.

### Tools

1. **APKtool:** Decompiles APK files into their original resources and manifest files to analyze code structure, app configurations, and potential vulnerabilities.
2. **JD-GUI:** Decompiles `.dex` files (Dalvik Executable) from APK files into readable Java code.
3. **FindBugs:** Analysis Java bytecode to detect bugs, potential security vulnerabilities, and unsafe coding practices.
4. **MobSF (Mobile Security Framework):**  An automated tool for static analysis of Android and iOS apps.

### Android Manifest File Analysis

- **Permissions**: Check if the application requests any sensitive permissions like camera, microphone, location, SMS, or call logs. If the app is requesting unnecessary permissions, it could be a red flag for privacy violations or potential security risks.
- **Components**: Android components like activities, services, receivers, and providers can be exploited by attackers to gain unauthorized access or to launch attacks. Check if any of the components are exposed to other applications or if they are exported with overly permissive access. `android:exported:` The default value of the attribute is true. (should be set to false)
- **Intents**: Intents are messages used by different Android components to communicate with each other. They can be used to launch activities, services, or broadcast messages. Check if the app is using any implicit intents that could be intercepted or manipulated by attackers.
- **Application information:** Check if the application has any hard-coded credentials, sensitive information, or debugging features that could be exploited by attackers.
- **Malware signatures**: Check if the application has any malware signatures that could indicate that the app is malicious or potentially harmful.
- **Target SDK version**: Check if the app is targeting an older version of the Android SDK. If the app is not targeting the latest version, it could be vulnerable to known security vulnerabilities.

- **Allow debugable: true** — Without a rooted phone it is possible to extract the data or run an arbitrary code using application permission (Should be false) The default value is “false”
- **Allow backup: true** — The default value of this attribute is true. This setting defines whether application data can be backed up and restored by a user who has enabled usb debugging.(Should be false)

### Dynamic Analysis

Dynamic Analysis is interacting with an application and test it during its runtime to observe its behavior and identify bugs.

1. **Burp Suite:** A comprehensive suite used to analyze web requests and HTTP/S traffic.
2. **Frida:** A dynamic instrumentation toolkit that helps analyze, modify, and interact with live applications by injecting scripts into running processes.
3. **Xposed Framework:** A framework for Android that allows you to change system and app behavior at runtime without modifying the APKs.
4. **Drozer:** An android security testing framework that allows security researchers to find vulnerabilities and potential exploits in Android applications.
5. **QARK:** A dynamic analysis tool that automatically scans Android applications for security vulnerabilities.

## Reverse Engineering

Android Reverse Engineering is the process of decompiling, analyzing and understanding the functionalities of an android application to uncover vulnerabilities and extract sensitive data.

### Tools

1. **APKTool:**
   - `apktool d APK_FILE`
     - Decompiles the APK file into a directory containing the app’s resources and Smali code.
   - `apktool b app_folder`
     - After making changes to the app folder, this command rebuilds the APK.

2. **Decompile the `classes.dex` file into Java source code:**

   - Option 1: Using `Jadx-gui`

     - **JADX** is a tool for decompiling APK files (specifically `.dex` files) into readable Java source code. It allows reverse engineers to understand the Java logic and functions of an Android app, even after it's been compiled.

     - Decompile APK:

       ```bash
       jadx -d output_folder app.apk
       # This command decompiles the APK into Java source code, saving it to the specified directory.
       ```

     - View Decompiled Code in GUI:

       ```bash
       jadx-gui app.apk
       # This opens the APK in a graphical interface, making it easier to navigate through the code.
       ```

     - Decompile `.dex` Files: If you want to decompile specific `.dex` files, you can use:

       ```bash
       jadx -d output_folder classes.dex
       ```

   - Option 2: Using `Dex2jar` + `JD-GUI`

     - **Dex2Jar** is a tool that converts `.dex` (Dalvik Executable) files into `.jar` (Java Archive) files, which can then be analyzed using standard Java decompiles (like JD-GUI).
     - Once the `.jar` file is created, you can open it in a Java decompiler, like **JD-GUI**, to view the code.

     1. Use **Dex2jar** to convert the `classes.dex` file into a JAR file:

        - Run the following command in your terminal or command prompt:

          ```bash
          d2j-dex2jar.sh classes.dex
          # This will generate a classes-dex2jar.jar file.
          ```
     2. Open the JAR file in **JD-GUI**:

        - Launch JD-GUI.
        - Drag and drop the `classes-dex2jar.jar` file into JD-GUI.
        - You can now view the decompiled Java source code.